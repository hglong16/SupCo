<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <data>
        <record id="group_first_approval" model="res.groups">
            <field name="name">Supreme Court Letter: First Level Approval</field>
        </record>

        <record id="group_second_approval" model="res.groups">
            <field name="name">Supreme Court Letter: Second Level Approval</field>
        </record>


        <!-- Rule for normal users -->
        <record id="rule_supreme_court_letter_own" model="ir.rule">
            <field name="name">Supreme Court Letter Own</field>
            <field name="model_id" ref="supco.model_supreme_court_letter"/>
            <field name="domain_force">[('created_by', '=', user.id)]</field>
            <field name="groups" eval="[(4, ref('base.group_user'))]"/>
        </record>

        <!-- Rule for first approver -->
        <record id="rule_supreme_court_letter_first_approval" model="ir.rule">
            <field name="name">Supreme Court Letter First Approval</field>
            <field name="model_id" ref="supco.model_supreme_court_letter"/>
            <field name="domain_force">['|', ('created_by', '=', user.id), '&amp;', ('created_by', '!=', user.id),
                ('approval_status', '=', 'waiting_first_approval')]
            </field>
            <field name="groups" eval="[(4, ref('supco.group_first_approval'))]"/>
        </record>

        <!-- Rule for second approver -->
        <record id="rule_supreme_court_letter_second_approval" model="ir.rule">
            <field name="name">Supreme Court Letter Second Approval</field>
            <field name="model_id" ref="supco.model_supreme_court_letter"/>
            <field name="domain_force">['|', '|', ('created_by', '=', user.id), ('approval_status', '=',
                'waiting_second_approval'), ('approval_status', '=', 'approved')]
            </field>
            <field name="groups" eval="[(4, ref('supco.group_second_approval'))]"/>
        </record>
    </data>
</odoo>